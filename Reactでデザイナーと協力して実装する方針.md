# デザイナーと協業する為のReactの書き方案
## エンジニア、デザイナー共通
- コード自体はエンジニアとデザイナーで分離しない
- アトミックデザインをゆるくして採用する
- 共通部品を使用する箇所は生のHTMLを記述せずに共通部品をインポートして使用すること
- CSSの読込はルートコンポーネントのみ
- API通信等を仮想的に行うデバッグモードを用意する（デバッグモードの内容も特定のレスポンスを返すだけではなく、同じAPIでも複数パターン行うことができるようにしてデザイナーがAPIを意識せずに行えるようにする）
- わからないことはお互いに質問する

## エンジニア側
### ビルド構成
- Create React Appをそのまま使う
- Browerlistを定義する
- Babel（babel-preset-env）を使用する（Create React Appをそのまま使う）
- Babilのカスタマイズは行わない（Babelのデフォルト設定のみを利用する）
- PostCSSを使用する（autoprefixer、cssnano（デフォルト設定））
- Type Scriptを利用する（React Prop Typesは使用しない）

### プログラム構成
- 全てReact.Componentで実装する（SFC、HOOKは利用しない）
- コンポーネントにCSSを読み込ませない
- ライブラリが付与するクラスはそのまま使用する（Reactの特性上ほぼないはず）
- 自分で付与するクラスには「logic-」プレフィックスを使用する（Reactの特性上ほぼないはず）
- ページ固有の物以外にidは使用しない
- ベースとなるコンポーネントを用意し、他のコンポーネントは必ずこれを継承すること
- 類似コンポーネントを作成する際は委譲をすること（スプレッド構文を利用する）

## デザイナー側
- SASS（SCSS）で記述する
- ライブラリが付与するクラスはそのまま使用する
- スタイルの読込順序によるバグの入り込む余地をなくすため、生成されたCSSは1つのCSSとして管理する（ルート用のapp.scssを作成する）
- セレクタに属性を使用しない
- セレクタにタグは使用しない（必ずクラス名で指定すること）
- セレクタにidはページ固有の物以外に使用しない
- ベンダープレフィックスは使用しない（エンジニア側がPostCSSで対応ブラウザに合わせて提供する）
- HTML構造の使用するタグについて吟味すること（h1～h6ってHTML仕様的に不正になってないか？などの考慮をすること）
- デザイナーはHTML構造とスタイル定義のみに集中できることを目指している
- デザイナーがデザインのため利用するクラスは「design-」をプレフィックスとしてつける
- 色定義用のSCSSファイルを作成し、そこから色を選択すること（色情報がバラバラに記述されないようにする）
- 色定義用のクラスは存在しない（クラス自体に色が含まれている形（`.design-btn {...}.design-btn.design-cancel{color: $cancelColor}`））

## 備考
### ビルド構成
- Babilは設定が非常に煩雑なのでここにコストを掛けて得られる通信量の削減はあまり意義を感じない
### アトミックデザインをゆるくする意味
- アトミックデザインでは原子・分子・生体・テンプレート・ページの5つに分けられるが、共通部品とページでのカスタマイズ用の定義があれば問題ないはずで、細かい単位で分離させる必要性はあまり感じないため
- 原子・分子・生体・テンプレートを明確に分離する必要性は感じないため
- 共通部品を利用した共通部品を作成するイメージ
- 100%同じHTML、100%同じスタイル定義であったとしても使用する意味が違う場合には別の共通部品として作成する
### React.Componentのみで実装する意味
- 本来的にはSFCの方がデザイナーにとって書きやすい実装になるが、実装側がSFCで対応するのは厳しい部分があるので通常のReact.Componentで統一させる
- HOOKを利用しないのもデザイナーにとってノイズになりやすいと思われるため
